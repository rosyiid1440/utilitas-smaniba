<div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
    <h1 class="text-3xl font-semibold text-gray-800">Sinkronisasi Data</h1>
</div>

<% if (message) { %>
    <div class="mt-6 p-4 rounded-lg <%= message.type === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800' %>"
        role="alert">
        <%- message.text %>
    </div>
    <% } %>

        <div class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-8">

            <div class="bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-semibold text-gray-800"><i class="bi bi-people-fill mr-2"></i>Sinkronisasi Data
                    Siswa</h3>
                <p class="mt-2 text-sm text-gray-600">
                    Mengambil data dari API siswa dan menyiapkan akun untuk ditinjau sebelum impor final.
                </p>
                <form action="/sync/students" method="POST" class="mt-6"
                    onsubmit="this.querySelector('button[type=submit]').disabled=true; this.querySelector('button[type=submit]').innerHTML='Memproses...';">
                    <div class="form-group">
                        <label for="student_target_profile" class="block text-base font-medium text-gray-800">Pilih
                            Profil Tujuan Siswa</label>
                        <select id="student_target_profile" name="target_profile" required
                            class="mt-2 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            <option value="" disabled selected>-- Wajib Pilih Profil --</option>
                            <% if (profiles && profiles.length> 0) { %>
                                <% profiles.forEach(profile=> { %>
                                    <option value="<%= profile.groupname %>">
                                        <%= profile.groupname %>
                                    </option>
                                    <% }) %>
                                        <% } %>
                        </select>
                    </div>
                    <div class="mt-6 pt-5 border-t border-gray-200">
                        <div class="flex justify-end">
                            <button type="submit"
                                class="w-full px-6 py-2 text-base font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700">
                                Ambil Data Siswa &raquo;
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-semibold text-gray-800"><i class="bi bi-person-video3 mr-2"></i>Sinkronisasi
                    Data Guru</h3>
                <p class="mt-2 text-sm text-gray-600">
                    Proses ini akan langsung membuat atau memperbarui akun guru berdasarkan data dari API.
                </p>
                <form action="/sync/teachers" method="POST"
                    onsubmit="return confirm('Yakin ingin memulai sinkronisasi data guru?'); this.querySelector('button[type=submit]').disabled=true; this.querySelector('button[type=submit]').innerHTML='<i class=\'bi bi-arrow-clockwise animate-spin\'></i> Mengimpor...';">
                    <div class="form-group">
                        <label for="teacher_target_profile" class="block text-base font-medium text-gray-800">Pilih
                            Profil Tujuan Guru</label>
                        <select id="teacher_target_profile" name="target_profile" required
                            class="mt-2 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            <option value="" disabled selected>-- Wajib Pilih Profil --</option>
                            <% if (profiles && profiles.length> 0) { %>
                                <% profiles.forEach(profile=> { %>
                                    <option value="<%= profile.groupname %>">
                                        <%= profile.groupname %>
                                    </option>
                                    <% }) %>
                                        <% } %>
                        </select>
                    </div>
                    <div class="mt-6 pt-5 border-t border-gray-200">
                        <div class="flex justify-end">
                            <button type="submit"
                                class="w-full px-6 py-2 text-base font-medium text-white bg-green-600 border border-transparent rounded-lg shadow-sm hover:bg-green-700">
                                Sinkronkan Data Guru Sekarang
                            </button>
                        </div>
                    </div>
                </form>
            </div>

        </div>